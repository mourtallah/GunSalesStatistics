split(data, convdate, desc)
split(data, convdate, desc())
split(data, convdate, desc(Sales))
lapply(split(data, convdate), sort)
lapply(split(data, convdate), sort(., decreasing = T))
lapply(split(data, convdate), sort(Sales, decreasing = T))
lapply(split(data, convdate), sort(.Sales, decreasing = T))
lapply(split(data, convdate), sort(data$Sales, decreasing = T))
lapply(split(data, convdate), decreasing = T))
lapply(split(data, convdate), decreasing = T))
lapply(split(data, convdate), decreasing = T)
split.data.frame(data, data$convdate)
bymonthyear <- split.data.frame(data, data$convdate)
otherguns
names(bymonthyear)
cbind(names(bymonthyear), totalunits, other_guns, long_guns, hand_guns)
data_frame(names(bymonthyear), totalunits, other_guns, long_guns, hand_guns)
as.data_frame(names(bymonthyear), totalunits, other_guns, long_guns, hand_guns)
as.data.frame(names(bymonthyear), totalunits, other_guns, long_guns, hand_guns)
data_frame(names(bymonthyear), totalunits, other_guns, long_guns, hand_guns)
data_frame(names(bymonthyear), totalunits, other_guns, long_guns, hand_guns) %>% as.data.frame()
data_frame(names(bymonthyear), totalunits, other_guns, long_guns, hand_guns) %>% as.data.frame() -> op2neat
op2neat
data_frame(names(bymonthyear)="Date", totalunits, other_guns, long_guns, hand_guns) %>% as.data.frame() -> op2neat
data_frame("Date"=names(bymonthyear), totalunits, other_guns, long_guns, hand_guns) %>% as.data.frame() -> op2neat
op2
op2neat
plot(op2neat)
plot(op2neat$Date, op2neat$totalunits)
plot(op2neat$Date, op2neat$totalunits)
plot(as.Date(op2neat$Date), op2neat$totalunits)
plot(as.Date(op2neat$Date), op2neat$totalunits, main="Monthly unit sales of firearms in the United States")
op2neat %>% mutate(prop.hand=hand_guns/totalunits)
op2neat %>% mutate(prop.hand=hand_guns/totalunits, prop.long=long_guns/totalunits, prop.other=other_guns/totalunits)
op2neat %>% mutate(prop.hand=hand_guns/totalunits, prop.long=long_guns/totalunits, prop.other=other_guns/totalunits) %?% round(2)
op2neat %>% mutate(prop.hand=hand_guns/totalunits, prop.long=long_guns/totalunits, prop.other=other_guns/totalunits) %>% round(2)
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits)), prop.long=round(long_guns/totalunits), prop.other=round(other_guns/totalunits))
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits), prop.long=round(long_guns/totalunits), prop.other=round(other_guns/totalunits))
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits, 2), prop.long=round(long_guns/totalunits, 2), prop.other=round(other_guns/totalunits, 2))
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits, 2), prop.long=round(long_guns/totalunits, 2), prop.other=round(other_guns/totalunits, 2)) %>% t()
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits, 2), prop.long=round(long_guns/totalunits, 2), prop.other=round(other_guns/totalunits, 2))
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits, 2), prop.long=round(long_guns/totalunits, 2), prop.other=round(other_guns/totalunits, 2))
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits, 2), prop.long=round(long_guns/totalunits, 2), prop.other=round(other_guns/totalunits, 2))
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits, 2), prop.long=round(long_guns/totalunits, 2), prop.other=round(other_guns/totalunits, 2))[1]
op2neat %>% mutate(prop.hand=round(hand_guns/totalunits, 2), prop.long=round(long_guns/totalunits, 2), prop.other=round(other_guns/totalunits, 2)) -> op3neat
op3neat
op3neat[1]
op3neat[2]
op3neat[3]
op3neat[4]
op3neat[5]
op3neat[6]
op3neat[1]
op3neat[,1]
op3neat[,2]
op3neat[1,]
t(op3neat[1,])
t(op3neat[1,]) - > jan19
t(op3neat[1,]) -> jan19
jan19
names(jan19)
names(jan19) <- c("Cat","Value")
names(jan19)
jan19
colnames(jan19)<-c(cat,units)
colnames(jan19)<-c("cat","units")
dim(jan19)
jan19 <- as.numeric(jan19)
jan19
jan19
t(op3neat[1,]) -> jan19
jan19
t(op2neat[1,])
t(op2neat[1,]) -> jan19
jan19
op2neat
apply(op2neat, 1, t)
t(op2neat[1,])
t(op2neat[1,-c(1)])
op2neat
subset(op2neat, drop = "Date")
subset(op2neat, drop = Date)
subset(op2neat, drop = "Date")
subset(op2neat, drop = "Date",)
subset(op2neat, drop = c("Date"))
subset(op2neat, drop = c(-"Date"))
subset(op2neat, select = c(-"Date"))
subset(op2neat, select ="Date")
subset(op2neat, select =!"Date")
subset(op2neat, select =c("Date"))
subset(op2neat, select =c(-"Date"))
subset(op2neat, select =-c("Date"))
subset(op2neat, select =!c("Date"))
subset(op2neat, drop=c("Date"))
subset(op2neat,drop = "Date")
head(op2neat)
op3neat=op3neat[,c(-1)]
op3neat=op2neat[,c(-1)]
op3
op3neat
op3neat
op3neat=op2neat[,c(-1)]
op3neat
apply(op3neat, 1, t())
apply(op3neat,1, t
apply(op3neat,1, t)
apply(op3neat,1, t)
apply(op3neat,1, t) -> op4neat
op4neat
names(op4neat)
names(op4neat) <- names(bymonthyear)
op4neat
apply(op3neat,1, t) -> op4neat
names(op4neat) <- names(bymonthyear)
op3neat=op2neat[,c(-1)]
apply(op3neat,1, t) -> op4neat
op4
op4neat
cbind(op4neat, "f")
data.frame(op4neat)
data.frame(op4neat, c("total","other","long","handgun"))
data.frame(op4neat, cat=c("total","other","long","handgun"))
names(bymonthyear)
names(op5neat
)
data.frame(op4neat, cat=c("total","other","long","handgun")) -> op5neat
names(op5neat)
names(op5neat)<-names(bymonthyear)
op5
op5neat
op5neat
library(ggplot)
library(ggplot2)
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=op5neat[length(op5neat)])))
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=op5neat[length(op5neat)]))
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=op5neat[length(op5neat)])) + geom_bar()
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=op5neat[length(op5neat)])) + geom_point()
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=op5neat[length(op5neat)])) + geom_point()
op5neat[length(op5neat)]
names(op5neat)<-c(names(bymonthyear),"cat")
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=cat) + geom_point()
)
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=cat))
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=cat)) + geom_bar()
names(op5neat[1])
p <- ggplot(data=op5neat, aes(x=names(op5neat), y=cat)) + geom_bar()
p <- ggplot(data=op5neat, aes(x=names(op5neat), y=cat)) + geom_point()
p
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=cat) + geom_point()
)
p <- ggplot(data=op5neat, aes(x=names(op5neat[1]), y=cat)
)
p
p <- ggplot(data=op5neat, aes(x=names(op5neat), y=cat)
)
p
p <- ggplot(data=op5neat, aes(x=op5neat$`2019-01-15`, y=cat))
p
p <- ggplot(data=op5neat, aes(x=`2019-01-15`, y=cat))
p
p <- ggplot(data=op5neat, aes(x=`2019-01-15`, y=cat)) + geom_bar
p <- ggplot(data=op5neat, aes(x=`2019-01-15`, y=cat)) + geom_bar()
p
p <- ggplot(data=op5neat, aes(x=`2019-01-15`)) + geom_bar()
p
p <- ggplot(data=op5neat, aes(x=`2019-01-15`)) + geom_bar(stat="identity")
p
p <- ggplot(data=op5neat, aes(x=`2019-01-15`)) + geom_bar(stat="identity")
specie <- c(rep("sorgho" , 3) , rep("poacee" , 3) , rep("banana" , 3) , rep("triticum" , 3) )
condition <- rep(c("normal" , "stress" , "Nitrogen") , 4)
value <- abs(rnorm(12 , 0 , 15))
data <- data.frame(specie,condition,value)
data
source('~/Projects/GunSales/mine.R')
data
op1neat
op2neat
op3neat
op4neat
op3neat
op2neat
sum(op2neat[,3:6])
sum(op2neat[,c(3:6)])
sum(op2neat[,c(3:5)])
sum(op2neat[,c(3,4,5)])
sum(op2neat[1,c(3,4,5)])
sum(op2neat[20,c(3,4,5)])
other_guns
matrix(data=c(hand_guns, long_guns, other_guns, rep(hand_guns, length(hand_guns)), rep(long_guns, length(long_guns)), rep(other_guns, length(other_guns))),ncol = 2)
matrix(data=c(hand_guns, long_guns, other_guns, rep(hand_guns, length(hand_guns)), rep(long_guns, length(long_guns)), rep(other_guns, length(other_guns))),ncol = 2,nrow = 20)
data.frame(long_guns, hand_guns, other_guns, rep(c("long_guns","handgun"),20)
)
rep(c("1","2"), 3)
rep(each=c("1","2"),20 )
rep(c("1","2"),each=20 )
data.frame(long_guns, hand_guns, other_guns, rep(c("longguns","handguns","otherguns"),each=20))
other_guns
op3neat
op2neat
op1neat
op2neat
data
data <- read.csv("./GunSales.csv", col.names = c("Date", "Sales"))
data
## supplant data point from authentic set
data = rbind(data, c("2019/01/15", 1039.19))
## round to nearest hundredth
data$Sales <- round(data$Sales, 2)
# reading in and binding actual dates taken from Statistica graph
TotalActualSales <- c(1039.19, NA, 1394.02,1049.4,NA,973.5,NA,1160.55,NA, 1159.28, 1423.87,1237.53,1671.77,1357.65,2538.23,1797.91,NA,2387.52,1960,1780)
# update main_df
cbind(convdate, data) -> data;
# saved copy of X2, stabilize day as X2'
convdate <- ymd(data$Date); day(convdate) <- 15;
# update main_df
cbind(convdate, data) -> data;
data <- read.csv("./GunSales.csv", col.names = c("Date", "Sales"))
## supplant data point from authentic set
data = rbind(data, c("2019/01/15", 1039.19))
data$Sales <- as.numeric(data$Sales)
## round to nearest hundredth
data$Sales <- round(data$Sales, 2)
# saved copy of X2, stabilize day as X2'
convdate <- ymd(data$Date); day(convdate) <- 15;
# update main_df
cbind(convdate, data) -> data;
# reading in and binding actual dates taken from Statistica graph
TotalActualSales <- c(1039.19, NA, 1394.02,1049.4,NA,973.5,NA,1160.55,NA, 1159.28, 1423.87,1237.53,1671.77,1357.65,2538.23,1797.91,NA,2387.52,1960,1780)
unique(data$convdate)
handle<-data.frame(dist.date=unique(data$convdate), realsales=TotalActualSales)
#Saves total associated with each y/m pair
data %>% group_by(convdate) %>% summarize(MonthlyTotalSales=max(Sales)) %>% arrange(desc(convdate)) %>% as.data.frame() -> Totals
data %>% mutate(Sales)
data %>% arrange(convdate, desc(Sales)) %>% as.data.frame() -> data
data
head(data)
data %>% mutate(Sales)
data %>% mutate(Sales)
data %>% mutate(Sales)
data %>% mutate(Sales)
data
data
op2neat
data
length(names(bymonthyear))
rep(names(bymonthyear),20)
data
rep(c('total','handgun','longguns','other'),20)
cbind(data,rep(c('total','handgun','longguns','other'),20))
data <- read.csv("./GunSales.csv", col.names = c("Date", "Sales"))
## supplant data point from authentic set
data = rbind(data, c("2019/01/15", 1039.19))
data$Sales <- as.numeric(data$Sales)
## round to nearest hundredth
data$Sales <- round(data$Sales, 2)
# saved copy of X2, stabilize day as X2'
convdate <- ymd(data$Date); day(convdate) <- 15;
# update main_df
cbind(convdate, data) -> data;
# reading in and binding actual dates taken from Statistica graph
TotalActualSales <- c(1039.19, NA, 1394.02,1049.4,NA,973.5,NA,1160.55,NA, 1159.28, 1423.87,1237.53,1671.77,1357.65,2538.23,1797.91,NA,2387.52,1960,1780)
#Saves total associated with each y/m pair
data %>% group_by(convdate) %>% summarize(MonthlyTotalSales=max(Sales)) %>% arrange(desc(convdate)) %>% as.data.frame() -> Totals
# sort by date and sales
data %>% arrange(convdate, desc(Sales)) %>% as.data.frame() -> data
head(data)
split(data, convdate)
melt(split(data, convdate))
bymonthyear
colnames(bymonthyear)
colnames(data)
data
## supplant data point from authentic set
data = rbind(data, c("2019/01/15", 1039.19))
data$Sales <- as.numeric(data$Sales)
## round to nearest hundredth
data$Sales <- round(data$Sales, 2)
# saved copy of X2, stabilize day as X2'
convdate <- ymd(data$Date); day(convdate) <- 15;
# update main_df
cbind(convdate, data) -> data;
data <- read.csv("./GunSales.csv", col.names = c("Date", "Sales"))
## supplant data point from authentic set
data = rbind(data, c("2019/01/15", 1039.19))
data$Sales <- as.numeric(data$Sales)
## round to nearest hundredth
data$Sales <- round(data$Sales, 2)
# saved copy of X2, stabilize day as X2'
convdate <- ymd(data$Date); day(convdate) <- 15;
# update main_df
cbind(convdate, data) -> data;
# reading in and binding actual dates taken from Statistica graph
TotalActualSales <- c(1039.19, NA, 1394.02,1049.4,NA,973.5,NA,1160.55,NA, 1159.28, 1423.87,1237.53,1671.77,1357.65,2538.23,1797.91,NA,2387.52,1960,1780)
#Saves total associated with each y/m pair
data %>% group_by(convdate) %>% summarize(MonthlyTotalSales=max(Sales)) %>% arrange(desc(convdate)) %>% as.data.frame() -> Totals
# sort by date and sales
data %>% arrange(convdate, desc(Sales)) %>% as.data.frame() -> data
#Saves total associated with each y/m pair
data %>% group_by(convdate) %>% summarize(MonthlyTotalSales=max(Sales)) %>% arrange(desc(convdate)) %>% as.data.frame() -> Totals
Totals
data <- read.csv("./GunSales.csv", col.names = c("Date", "Sales"))
data
head(data)
## supplant data point from authentic set
data = rbind(data, c("2019/01/15", 1039.19))
data$Sales <- as.numeric(data$Sales)
## round to nearest hundredth
data$Sales <- round(data$Sales, 2)
# saved copy of X2, stabilize day as X2'
convdate <- ymd(data$Date); day(convdate) <- 15;
# update main_df
cbind(convdate, data) -> data;
data
# reading in and binding actual dates taken from Statistica graph
TotalActualSales <- c(1039.19, NA, 1394.02,1049.4,NA,973.5,NA,1160.55,NA, 1159.28, 1423.87,1237.53,1671.77,1357.65,2538.23,1797.91,NA,2387.52,1960,1780)
#Saves total associated with each y/m pair
data %>% group_by(convdate) %>% summarize(MonthlyTotalSales=max(Sales)) %>% arrange(desc(convdate)) %>% as.data.frame() -> Totals
# sort by date and sales
data %>% arrange(convdate, desc(Sales)) %>% as.data.frame() -> data
head(data)
## op1
indexfirst <- seq(1,80, 4)
indexsecond <- seq(1, 80, 4)+1
indexthird <- seq(1,80,4)+2
indexfourth <- seq(1, 80,4)+3
totalunits <- data[indexfirst,]$Sales
other_guns <- totalunits - data[indexsecond,]$Sales
long_guns <- totalunits - other_guns - data[indexthird,]$Sales
hand_guns <- totalunits - long_guns - other_guns
#
bymonthyear <- split.data.frame(data, data$convdate)
bymonthyear
totalunits
data_frame("Date"=names(bymonthyear), totalunits, other_guns, long_guns, hand_guns) %>% as.data.frame() -> op2neat
op1neat
data_frame("Date"=names(bymonthyear), totalunits, other_guns, long_guns, hand_guns) %>% as.data.frame() -> op2neat
op2neat
plot(op2neat)
plot(op2neat$Date,op2neat$totalunits)
op2neat$Date
op2neat
longbyconvdate<- op1neat
longbyconvdate
longbyconvdate %>% mutate(Ccat=rep("total","handgun",'longgun','other','none'))
longbyconvdate %>% mutate(Ccat=rep("total","handgun",'longgun','other','none'),20)
## op1
# indices for transformation
indexfirst <- seq(1,80, 4)
indexsecond <- seq(1, 80, 4)+1
indexthird <- seq(1,80,4)+2
indexfourth <- seq(1, 80,4)+3
# split groups by type
totalunits <- data[indexfirst,]$Sales
other_guns <- totalunits - data[indexsecond,]$Sales
long_guns <- totalunits - other_guns - data[indexthird,]$Sales
hand_guns <- totalunits - long_guns - other_guns
data_frame("Date"=names(bymonthyear), totalunits, other_guns, long_guns, hand_guns) %>% as.data.frame() -> op2neat
op2neat
op3neat
apply(op3neat,1, t) -> op4neat
op4neat
op5neat
melt(op5neat,id.vars(c('cat')))
library(reshape2)
melt(op5neat,id.vars(c('cat')))
colnames(op5neat)
melt(op5neat, id.vars = c("cat"))
cbind(data,rep(c('total','handgun','longguns','other'),20))
melt(op5neat, id.vars = c("cat"))
data<-melt(op5neat, id.vars = c("cat"))
data
ggplot(data, aes(x=value)) + geom_bar()
ggplot(data, aes(x="value")) + geom_bar()
ggplot(data, aes(x=variable, y=value))
ggplot(data, aes(x=variable, y=value)) %>% geom_point(
)
ggplot(data, aes(x=variable, y=value)) + geom_point()
ggplot(data, aes(x=variable, y=value)) + geom_bar()
ggplot(data, aes(x=variable, y=value)) + geom_histogram()
data
ggplot(data, aes(x=variable, y=value)) + geom_histogram()
ggplot(data, aes(x=variable, y=value)) + geom_histogram()
ggplot(data, aes(fill=cat, y=value, x=variable))
ggplot(data, aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat = "identity")
plot(x=hand_guns)
data
data %>% filter(cat=="total")
data %>% filter(cat=="total") %>% ggplot(aes(fill=cat, y=value, x=variable))
data %>% filter(cat=="total") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="handguns") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="handgun") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data.frame(op4neat, cat=c("total","other","long","handguns")) -> op5neat
data %>% filter(cat=="handguns") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="handguns") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="total") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="other") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="long") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="hand") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="handgun") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat="identity")
data %>% filter(cat=="handgun") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_line(stat="identity")
data %>% filter(cat=="handgun") %>% ggplot(aes(fill=cat, y=value, x=variable)) + geom_line()
data %>% filter(cat=="handgun") %>% ggplot(y=value, x=variable)) + geom_line()
data %>% filter(cat=="handgun") %>% ggplot(y=value, x=variable) + geom_line()
data %>% filter(cat=="handgun") %>% ggplot(y=value, x=variable) + geom_line()
data
data %>% filter(cat=="handgun") %>% ggplot(aes(y=value, x=variable)) + geom_line()
data %>% filter(cat=="handgun") %>% ggplot(aes(y=value, x=variable))
data %>% filter(cat=="handgun") %>% ggplot(aes(y=value, x=variable)) + geom_bar()
data %>% filter(cat=="handgun") %>% ggplot(aes(y=value, x=variable)) + geom_line()
data %>% filter(cat=="handgun") %>% ggplot(aes(y=value)) + geom_histogram()
data %>% filter(cat=="handgun") %>% ggplot(aes(x=value)) + geom_histogram()
data %>% filter(cat=="handgun") %>% ggplot(aes(x=variable)) + geom_histogram()
data
data %>% filter(cat=="handgun") %>% ggplot(aes(x="variable")) + geom_histogram()
data %>% filter(cat=="handgun")
data %>% filter(cat=="handgun") %>% ggplot(aes(value))+geom_line()
data %>% filter(cat=="handgun") %>% ggplot(aes(x=value))
data %>% filter(cat=="handgun") %>% ggplot(aes(x=value)) + geom_bar()
data %>% filter(cat=="handgun") %>% ggplot(aes(x=value)) + geom_line()
data %>% filter(cat=="handgun") %>% ggplot(aes(x=value)) + geom_scatter()
data %>% filter(cat=="handgun") %>% ggplot(aes(x=value)) + geom_smooth()
data %>% filter(cat=="handgun") %>% ggplot(aes(x=value, y=variable))
data %>% filter(cat=="handgun") %>% ggplot(aes(y=value, x=variable))
data %>% filter(cat=="handgun") %>% ggplot(aes(y=value, x=variable)) + geom_line()
data
data[2]
data[1]
data[3]
data[1:3]
data[1:2]
data[1:3]
data[2:3]
data[2:3] %>% ggplot(aes(x=variable, y=value))
data[2:3] %>% ggplot(aes(x=variable, y=value)) + geom_line()
data[2:3] %>% filter(cat=="other") %>% ggplot(aes(x=variable, y=value)) + geom_line()
data %>% filter(cat=="other") %>% ggplot(aes(x=variable, y=value)) + geom_line()
plot(hand_guns)
plot(hand_guns,names(bymonthyear))
plot(y=hand_guns,x=names(bymonthyear))
ggplot(data, aes(fill=cat, y=value, x=variable)) + geom_bar(position = "stack", stat = "identity")
ggplot(data, aes(fill=cat, y=value, x=variable)) +
geom_bar(position='dodge', stat="identity")) +
facet_wrap(~cat)
ggplot(data, aes(fill=cat, y=value, x=variable)) +
geom_bar(position='dodge', stat="identity")) +
facet_wrap(~cat)
ggplot(data, aes(fill=cat, y=value, x=variable)) +
geom_bar(position='dodge', stat="identity") +
facet_wrap(~cat)
ggplot(data, aes(x=variable, y=value)) + geom_line() + geom_point()
data <- ggplot(data, aes(x=variable, y=value)) + geom_line() + geom_point() + facet_wrap(~cat)
ggplot(data, aes(x=variable, y=value)) + geom_line() + geom_point() + facet_wrap(~cat)
source('~/Projects/GunSales/mine.R')
data
ggplot(data, aes(y=value, x=variable)) + geom_line() + geom_point()
data
source('~/Projects/GunSales/mine.R')
source('~/Projects/GunSales/mine.R', echo=TRUE)
source('~/Projects/GunSales/mine.R', echo=TRUE)
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line() + geom_point()
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line() + geom_point(linetype="solid")
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line() + geom_point()
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line()
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line(linetype="solid") + geom_point()
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line(linetype="dashed") + geom_point()
ggplot(data, aes(y=value, x=variable) + geom_line() + geom_point()
)
ggplot(data, aes(y=value, x=variable, group=cat)) + geom_line(linetype="dashed") + geom_point()
ggplot(data, aes(y=value, x=variable, group=cat, color=cat)) + geom_line(linetype="dashed") + geom_point()
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line()
ggplot(data, aes(y=value, x=variable, color=cat)) + geom_line()  + geom_point()
year(Date)
data$cat
names(data)
variable
names(data)[2] <- "date"
ggplot(data, aes(fill=cat, y=value, x=date)) + geom_bar(position = "stack", stat = "identity")
ggplot(data, aes(fill=cat, y=value, x=date)) +
geom_bar(position='dodge', stat="identity") +
facet_wrap(~cat)
ggplot(data, aes(y=value, x=date, color=cat)) + geom_line()  + geom_point()
ggplot(data, aes(y=value, x=date, group=cat, color=cat)) + geom_line(linetype="dashed") + geom_point()
year(data$date)
year(as.Date(data$date))
year(as.Date(data$date))=="2020"
data[year(as.Date(data$date))=="2020",]
last_year <- data[year(as.Date(data$date))=="2019",]
this_year <- data[year(as.Date(data$date))=="2020",]
ggplot(this_year, aes(y=value, x=date, group=cat, color=cat)) + geom_line(linetype="dashed") + geom_point()
ggplot(this_year, aes(y=value, x=date, group=cat, color=cat)) + geom_line(linetype="solid") + geom_point()
data %>% group_by(cat)
data %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)-1)*100)
data %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)-1)*100) %>% filter(cat=="long")
data %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)-1)*100) %>% filter(cat=="long") %>% ggplot(aes(x=date, y=pct_change))
data %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)-1)*100) %>% filter(cat=="long") %>% ggplot(aes(x=date, y=pct_change)) + geom_line(linetype="solid")
data %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)-1)*100) %>% filter(cat=="long") %>% ggplot(aes(x=date, y=pct_change)) + geom_line(linetype="solid") + geom_point()
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)-1)*100) %>% filter(cat=="long") %>% ggplot(aes(x=date, y=pct_change)) + geom_line(linetype="solid") + geom_point()
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)) %>% filter(cat=="long") %>% ggplot(aes(x=date, y=pct_change)) + geom_line(linetype="solid") + geom_point()
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)) %>% filter(cat=="long") %>% ggplot(aes(x=date, y=pct_change)) + geom_line(linetype="solid") + geom_point()
)
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value))
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value))
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)))
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)))
this_year %>% group_by(cat) %>% mutate(pct_change=(value/lead(value)) %>% filter(cat=="long") %>% ggplot(aes(x=date, y=pct_change)) + geom_line(linetype="solid") + geom_point()
this_year
this_year
this_year %>% filter(cat=="handgun")
this_year %>% filter(cat=="handgun")
this_year %>% filter(cat=="handgun") %>% ggplot(aes(date, value)) + geom_line() + geom_point()
pwd()
getwd()
